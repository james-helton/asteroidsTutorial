<!doctype html>
<html>
	<head>
		<title>Exercise 6: Animation</title>
		<link rel="stylesheet" href="styles/styles.css" />
		<script src="js/drawGrid.js"></script>
	</head>
	<body>
		<h1>Animation</h1>
		<canvas id='asteroids' width='300' height='300'></canvas>

		<script>
			let context = document.getElementById('asteroids').getContext('2d');
			context.strokeStyle = 'white';
			context.lineWidth = 1.5;

			var x = 0, y = context.canvas.height / 2.0;
			var ySpeed = 1, gravity = 0.1;

			function frame() {
				context.clearRect(0, 0, context.canvas.width, context.canvas.height);
				draw(context);
				update();
			}

			function update() {
				x += 1;
				// ySpeed += gravity;
				ySpeed += gravity;
				y += ySpeed;
				if(y > context.canvas.height) {
					ySpeed *= (-0.95)
					y = context.canvas.height;
				}
			}

			function draw(ctx) {
				drawGrid(ctx);
				ctx.beginPath();
				ctx.arc(x, y, 40, 0, 2 * Math.PI);
				// ctx.arc(x, Math.cos(2*x*Math.PI / 180)*30+150, 40, 0, 2 * Math.PI);
				// ctx.arc(Math.sin(2*x*Math.PI / 180)*30+150, Math.cos(2*x*Math.PI / 180)*30+150, 40, 0, 2 * Math.PI);
				ctx.fill();
				ctx.stroke();
			}

			setInterval(frame, 1000.0/60.0); // 60fps
		</script>
	</body>
</html>